<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>React on Lomirus' Site</title><link>https://lomirus.github.io/tags/react/</link><description>Recent content in React on Lomirus' Site</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sat, 15 May 2021 00:00:00 +0800</lastBuildDate><atom:link href="https://lomirus.github.io/tags/react/index.xml" rel="self" type="application/rss+xml"/><item><title>TypeScript &amp; Webpack &amp; Babel &amp; Eslint &amp; React: Not Such a Beautiful Marriage</title><link>https://lomirus.github.io/p/not-such-a-beautiful-marriage/</link><pubDate>Wed, 14 Apr 2021 00:00:00 +0800</pubDate><guid>https://lomirus.github.io/p/not-such-a-beautiful-marriage/</guid><description>&lt;img src="https://lomirus.github.io/p/not-such-a-beautiful-marriage/cover.png" alt="Featured image of post TypeScript &amp; Webpack &amp; Babel &amp; Eslint &amp; React: Not Such a Beautiful Marriage" /&gt;&lt;p&gt;ï¼ˆé¡ºå¸¦ä¸€æï¼Œæ ‡é¢˜&lt;del&gt;æŠ„è¢­&lt;/del&gt;å¼•ç”¨æ”¹ç¼–è‡ªè‘—ååšæ–‡ &lt;a class="link" href="https://medium.com/dailyjs/typescript-babel-ce24f724398" target="_blank" rel="noopener"
&gt;TypeScript with Babel: A Beautiful Marriage&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;h2 id="origin"&gt;Origin
&lt;/h2&gt;&lt;p&gt;çœ‹äº†ä¸‹ cqupt-help-mp çš„æºç ï¼Œå‘ç°é‡Œé¢ç”¨äº†è®¸å¤šåº“ã€‚æ„Ÿè§‰è‡ªå·±å¯¹è¿™äº›å·¥å…·è¿˜ä¸å¤ªç†Ÿç»ƒï¼Œæ‰€ä»¥æƒ³å…ˆè¶æœºç»ƒä¹ ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºé¢˜ç›®ä¸­çš„äº”ä¸ªå·¥å…·ï¼Œé™¤å» ESlintä¹‹å¤–ï¼Œå…¶å®å…¶ä»–çš„éƒ½å¤šå¤šå°‘å°‘ç”¨è¿‡ä¸€æ®µæ—¶é—´ã€‚ç‰¹åˆ«æ˜¯ Webpack Babel React è¿™ä¸‰ä¸ªï¼Œç”¨çš„æ—¶é—´ä¹Ÿç®—æ˜¯æ¯”è¾ƒä¹…äº†ã€‚TypeScript å€’æ˜¯ç”¨è¿‡ï¼Œä½†æ˜¯æ„Ÿè§‰ JS åŠ ä¸Šç±»å‹é™åˆ¶åå†™èµ·æ¥å°±ä¸é‚£ä¹ˆè‡ªç”±äº†ï¼Œæ‰€ä»¥å°è¯•ç”¨å®ƒå†™äº†ä¸€ä¸ªæ¨¡å—ä¹‹åå°±å°†å®ƒå¸è½½äº†ã€‚ä½†æ˜¯è¿™äº›è¿™ä¸ªå·¥å…·ç»ˆç©¶è¿˜æ˜¯å¤ªå¸¸ç”¨ï¼Œæ—©æ™šé€ƒä¸äº†è¿˜æ˜¯å¾—å­¦ï¼Œæ‰€ä»¥å°±è¯•ç€ç”¨å®ƒä»¬åšä¸ªç®€å•çš„å°é¡¹ç›®ç»ƒç»ƒæ‰‹ã€‚æ¯•ç«Ÿå½“åˆæˆ‘å­¦ Webpack æ—¶ä¹Ÿæ˜¯å­¦å¾—å¾ˆæ†‹å±ˆï¼Œä¸€ç›´ä¸çŸ¥é“è¿™ç©æ„å„¿æ‰“ä¸ªåŒ…ä¸ºå•¥è¿˜éå¾—ç”¨ js æ–‡ä»¶åšå…¥å£ï¼Œç›´åˆ°åæ¥å­¦äº† React æ‰è±ç„¶å¼€æœ—ï¼Œæ‰€ä»¥æˆ‘è‡³ä»Šè®¤ä¸ºå¦‚æœæ˜¯è¦åšè·‘åœ¨æµè§ˆå™¨çš„ç½‘é¡µè€Œä¸”ä¸ç”¨ä»€ä¹ˆæ¡†æ¶çš„è¯ Webpack è¿˜çœŸæ²¡ä»€ä¹ˆåµç”¨ã€‚å½“ç„¶ï¼Œæœ‰äº†ä¹‹åè‡ªç„¶ç”¨å¤„å°±å¤§äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡è¯´äº†è¿™ä¹ˆå¤šå¥½åƒæœ‰ç‚¹è·‘é¢˜ï¼Œå…ˆå›åˆ°æ­£é¢˜ï¼šè®©æˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹ç©¶ç«Ÿæ€ä¹ˆæŠŠè¿™äº”ä¸ªæ¶å­ç»™æ”¯æ¥åˆ°ä¸€å—å„¿å»ã€‚&lt;/p&gt;
&lt;h2 id="introductions-of-the-packages"&gt;Introductions of the packages
&lt;/h2&gt;&lt;p&gt;è¿™ç§ä¸œè¥¿è¿˜ç”¨å¾—ç€åœ¨è¿™ä»‹ç»ï¼Ÿå®˜ç½‘æ–‡æ¡£ï¼Œç»´åŸºç™¾ç§‘ï¼Œè¯·~&lt;/p&gt;
&lt;h2 id="tsc-or-babel-its-a-question"&gt;TSC or Babel, it&amp;rsquo;s a question.
&lt;/h2&gt;&lt;p&gt;è€å®è¯´ï¼Œå•æ˜¯åœ¨ä¸¤ä¸ªä¹‹é—´è¿›è¡Œé€‰æ‹©å°±å¤Ÿè®©æˆ‘æƒ³åŠå¤©äº†ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œæ‘†åœ¨æˆ‘é¢å‰çš„åŒ…æ‹¬ä½†ä¸é™äºï¼š&lt;code&gt;ts-loader&lt;/code&gt;,&lt;code&gt;awesome-typescript-loader&lt;/code&gt;, &lt;code&gt;babel-loader&lt;/code&gt;ç­‰ä¸€å †loaders/packagesã€‚è€Œä¸”ç”±äºæˆ‘å¼€å§‹å‚è€ƒäº†è¿‡æ—¶çš„ä¸­æ–‡æ–‡æ¡£ï¼Œæ‰€ä»¥å…ˆä¸‹è½½äº†&lt;code&gt;awesome-typescript-loader&lt;/code&gt;ï¼Œåæ¥æ‰æ„è¯†åˆ°è¢«å‘ï¼ˆğŸ˜…ï¼‰ã€‚è€Œåœ¨å‰©ä½™çš„ä¸¤è€…ä¹‹é—´ï¼Œå‚è€ƒ&lt;a class="link" href="https://medium.com/dailyjs/typescript-babel-ce24f724398" target="_blank" rel="noopener"
&gt;TypeScript with Babel: A Beautiful Marriage&lt;/a&gt;åï¼Œå†³å®šé€‰æ‹©äº†åè€…ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…å¥½ä¹‹åï¼Œæˆ‘åˆé¡ºç€æˆ‘çš„æ€è·¯æ‹äº†ä¸€éï¼Œå‘ç°æ•´ä¸ªè¿‡ç¨‹ä¸­ç¼–è¯‘æ˜¯&lt;code&gt;babel&lt;/code&gt;åšçš„ï¼Œæ ¹æœ¬æ²¡ç”¨åˆ°&lt;code&gt;typescript&lt;/code&gt;ä»€ä¹ˆäº‹å„¿å‘€ã€‚æˆ‘äºæ˜¯å°±æƒ³ï¼ŒæŠŠå®ƒå¸è½½ä¹‹åä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿæ¥ç€ç¥å¥‡çš„ç°è±¡å‘ç”Ÿäº†ï¼Œæˆ‘å¸è½½äº†&lt;code&gt;typescipt&lt;/code&gt;ï¼Œåˆ é™¤äº†å®ƒçš„é…ç½®æ–‡ä»¶&lt;code&gt;tsconfig.json&lt;/code&gt;ï¼Œç»“æœå‘ç°æˆ‘çš„ç”¨&lt;code&gt;typescript&lt;/code&gt;å†™çš„é¡¹ç›®å±…ç„¶è¿˜èƒ½æ­£å¸¸ç¼–è¯‘å¹¶è¿è¡Œï¼ˆè°¢è°¢æœ‰è¢«éœ‡æƒŠåˆ°ï¼‰ã€‚æˆ‘å°±æƒ³æ—¢ç„¶å¦‚æ­¤é‚£æˆ‘è¿˜ç”¨tså¹²å•¥å‘€ï¼Œèµ¶ç´§å¸äº†å¾—äº†ï¼Œå¯åˆ«å†è®©æˆ‘è§ç€ä½ äº†ï¼ˆğŸ˜…ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id="anti-human-eslint"&gt;Anti-human ESLint
&lt;/h2&gt;&lt;p&gt;å¬è¯´ ESLint å¯ä»¥ç”¨åœ¨å›¢é˜Ÿåä½œä¸­æ¥ä¿è¯ä»£ç é£æ ¼çš„ä¸€è‡´æ€§ï¼Ÿå¥½ï¼Œåå•èµ¶ç´§å®‰æ’ä¸Šï¼ŒåŠ æ€¥ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…è¿‡ç¨‹ä¸­è¢«é—®äº†å‡ ä¸ªé—®é¢˜ï¼Œå›ç­”ä¹‹åä»–ç»™æˆ‘æ¨èäº†å‡ ä¸ªæ’ä»¶ã€‚è¡Œï¼Œå¬æ‚¨çš„ã€‚é€‰æ‹© YESï¼Œè¿›è¡Œå®‰è£…ã€‚çœ‹èµ·æ¥ä¸€åˆ‡é¡ºåˆ©ï¼Œç„¶å&amp;hellip;æœä¸å…¶ç„¶ï¼ŒæŠ¥é”™äº†ã€‚æŠ¥å•¥å‘¢ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Oops! Something went wrong! :(
ESLint: 7.24.0
Error: An error occurred while generating your JavaScript config file. A config file was still generated, but the config file
itself may not follow your linting rules.
Error: Failed to load plugin &amp;#39;@typescript-eslint&amp;#39; declared in &amp;#39;BaseConfig&amp;#39;: Cannot find module &amp;#39;typescript&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘å¿ƒæƒ³ï¼Œè¿™ä¸åºŸè¯å˜›ï¼Œæˆ‘åˆæ²¡å®‰è£… typescipt æ‚¨èƒ½åˆ°å“ªå„¿æ‰¾æ¨¡å—å»ï¼Ÿä¸è¿‡è¯åˆè¯´å›æ¥ï¼Œåˆšæ‰ï¼Œå®ƒå€’æ˜¯çš„ç¡®é—®è¿‡æˆ‘è¿™ä¹ˆä¸€å¥ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Does your project use TypeScript? Â· No / Yes
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å””ï¼Œæˆ‘è¦ç”¨ TypeScript å€’æ˜¯æ²¡é”™ï¼Œä¸è¿‡è¿™å’Œæˆ‘å®‰æ²¡å®‰è£… TypeScript çš„ package ä¹Ÿæ²¡ä»€ä¹ˆå¿…ç„¶çš„è”ç³»å§ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åç»è¿‡æ‘¸æ»šå¸¦çˆ¬çš„ä¸Šä¸‹æ±‚ç´¢ï¼Œç»ˆäºæ„è¯†åˆ° typescript è²Œä¼¼è¿˜æ˜¯æœ‰ç‚¹å„¿ç”¨çš„ï¼Œå†åŠ ä¸Šåé¢ç”¨åˆ°çš„ &lt;code&gt;@types/react&lt;/code&gt;ï¼Œ&lt;code&gt;@types/react-dom&lt;/code&gt;ï¼Œæ„Ÿè§‰æ˜¯åœ¨ç±»å‹æ¨æ–­å’Œè‡ªåŠ¨è¡¥å…¨æ–¹é¢æœ‰äº›ä½œç”¨ï¼ˆåº”è¯¥ï¼‰&lt;/p&gt;
&lt;h2 id="module-or-commonjs-its-a-question"&gt;Module or CommonJS, it&amp;rsquo;s a question.
&lt;/h2&gt;&lt;p&gt;åˆšæ‰ ESLint é—®æˆ‘ç”¨çš„æ˜¯ &lt;code&gt;Module&lt;/code&gt; è¿˜æ˜¯ &lt;code&gt;CommonJS&lt;/code&gt;ï¼Œç§‰ç€â€œå•¥æ–°ç”¨å•¥ï¼Œç”¨å˜›å˜›æ–°â€çš„åŸåˆ™ï¼Œæˆ‘å½“ç„¶é€‰æ‹©çš„ES6çš„&lt;code&gt;Module&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åç”±äºæˆ‘çš„&lt;code&gt;webpack.config.js&lt;/code&gt;ç”¨åˆ°äº†&lt;code&gt;module.exports = {}&lt;/code&gt;ï¼Œæ‰€ä»¥ ESLintæŠ¥é”™äº†ã€‚&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;&amp;#39;require&amp;#39; is not defined. eslint(no-undef)
&amp;#39;module&amp;#39; is not defined. eslint(no-undef)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¥½ï¼Œé‚£æˆ‘æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æŠŠ &lt;code&gt;module.exports&lt;/code&gt;æ”¹æˆäº†&lt;code&gt;export default&lt;/code&gt;ï¼ŒæŠŠ&lt;code&gt;require&lt;/code&gt;æ”¹æˆäº†&lt;code&gt;import&lt;/code&gt;ã€‚ç»“æœåˆæŠ¥é”™äº†ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;SyntaxError: Cannot use import statement outside a module
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¥½ï¼Œé‚£æˆ‘æ”¹ã€‚
æˆ‘åœ¨&lt;code&gt;package.json&lt;/code&gt;é‡ŒåŠ äº†å¥ &lt;code&gt;&amp;quot;type&amp;quot;: &amp;quot;module&amp;quot;&lt;/code&gt;ã€‚ç»“æœåˆæŠ¥é”™äº†ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;ReferenceError: __dirname is not defined
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;__dirname&lt;/code&gt; ç”¨ä¸äº†å¯ä¸è¡Œï¼Œé‚£è¿˜æ˜¯å†æ”¹å›æ¥å§ã€‚
å¥½ï¼Œé‚£æˆ‘æ”¹ã€‚
äºæ˜¯å›åˆ°äº†åŸç‚¹ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;&amp;#39;require&amp;#39; is not defined. eslint(no-undef)
&amp;#39;module&amp;#39; is not defined. eslint(no-undef)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ï¼ˆé—¹ç€ç©æ˜¯å§ï¼ŸğŸ˜…ï¼‰&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨&lt;code&gt;.eslintrc.js&lt;/code&gt;çš„&lt;code&gt;&amp;quot;env&amp;quot;&lt;/code&gt;ä¸­åŠ äº†è¡Œ&lt;code&gt;&amp;quot;node&amp;quot;: true&lt;/code&gt;ï¼Œè¡Œï¼Œç»ˆäºï¼Œä¸æŠ¥é”™äº†ã€‚&lt;/p&gt;
&lt;h2 id="eslint-comes-again"&gt;ESLint Comes Again
&lt;/h2&gt;&lt;p&gt;&lt;code&gt;App.js&lt;/code&gt;é‡Œæœ‰è¿™ä¹ˆä¸€æ®µï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-tsx" data-lang="tsx"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;Box&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;({&lt;/span&gt; &lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;children&lt;/span&gt; &lt;span class="p"&gt;})&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;{&lt;/span&gt;&lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="p"&gt;}&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;children&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ESLintæŠ¥é”™ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Missing return type on function. eslint(@typescript-eslint/explicit-module-boundary-types)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¥ç€ä¿®æ”¹ä»£ç ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-tsx" data-lang="tsx"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// has imported ReactElement...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;Box&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;({&lt;/span&gt; &lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;children&lt;/span&gt; &lt;span class="p"&gt;})&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;ReactElement&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;{&lt;/span&gt;&lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="p"&gt;}&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;children&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ESLintæŠ¥é”™ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Object pattern argument should be typed. eslint(@typescript-eslint/explicit-module-boundary-types)
&amp;#39;title&amp;#39; is missing in props validation eslint(react/prop-types)
Binding element &amp;#39;children&amp;#39; implicitly has an &amp;#39;any&amp;#39; type. ts(7031)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¥ç€ä¿®æ”¹ä»£ç ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-tsx" data-lang="tsx"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// has imported ReactElement...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt;&lt;span class="kr"&gt;type&lt;/span&gt; &lt;span class="nx"&gt;BoxProps&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;title&lt;/span&gt;: &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;children&lt;/span&gt;: &lt;span class="kt"&gt;ReactElement&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;Box&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;({&lt;/span&gt; &lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;children&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;BoxProps&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;ReactElement&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;{&lt;/span&gt;&lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="p"&gt;}&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;children&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ESLintåœ¨è¿™å—å„¿å€’æ˜¯ä¸æŠ¥é”™äº†ï¼Œä¸è¿‡å½“å…¶ä»–åœ°æ–¹è°ƒç”¨&lt;code&gt;Box&lt;/code&gt;åˆæŠ¥é”™äº†ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;This JSX tag&amp;#39;s &amp;#39;children&amp;#39; prop expects a single child of type &amp;#39;ReactElement&amp;lt;any, string | JSXElementConstructor&amp;lt;any&amp;gt;&amp;gt;&amp;#39;, but multiple children were provided.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æŸ¥äº†ä¸‹èµ„æ–™ï¼Œå‘ç°é™¤äº†&lt;code&gt;ReactElement&lt;/code&gt;ä¹‹å¤–åŸæ¥è¿˜æœ‰&lt;code&gt;ReactNode&lt;/code&gt;å’Œ&lt;code&gt;JSX.Element&lt;/code&gt;ï¼ˆå‚è€ƒ &lt;a class="link" href="https://stackoverflow.com/questions/58123398/when-to-use-jsx-element-vs-reactnode-vs-reactelement" target="_blank" rel="noopener"
&gt;When to use JSX.Element vs ReactNode vs ReactElement?&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ€»ç»“ä¸‹ï¼ŒåŸå› ï¼šæ‹‰èƒ¯TSçš„å†å²é—ç•™é—®é¢˜ï¼›è§£å†³æ–¹æ³•ï¼šå°†&lt;code&gt;children&lt;/code&gt;ç±»å‹æ”¹æˆ&lt;code&gt;ReactNode&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="react-jsx"&gt;&lt;code&gt;react-jsx&lt;/code&gt;
&lt;/h2&gt;&lt;p&gt;åœ¨ä¸Šé¢çš„ StackOverflow é‡Œçœ‹åˆ°äº† &lt;code&gt;create-react-app&lt;/code&gt;ï¼Œè¿™æ‰æƒ³åˆ°å¯ä»¥å»å‚è€ƒä¸€ä¸‹å®ƒçš„ä»£ç ï¼Œè¯ä¸å¤šè¯´ï¼Œå¼€å§‹å®‰è£…ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;npm init -y
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;npm install create-react-app
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;npx create-react-app ts --template typescript
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿›å»ä¹‹åå‘ç°ä»–åœ¨&lt;code&gt;tsconfig.json&lt;/code&gt;é‡Œçš„&lt;code&gt;&amp;quot;compilerOptions&amp;quot;&lt;/code&gt;å†™æœ‰&lt;code&gt;&amp;quot;jsx&amp;quot;: &amp;quot;react-jsx&amp;quot;&lt;/code&gt;ï¼Œè€Œæˆ‘ä¹‹å‰ä¸€ç›´éƒ½æ˜¯ç”¨çš„&lt;code&gt;&amp;quot;jsx&amp;quot;: &amp;quot;react&amp;quot;&lt;/code&gt;ã€‚å¥½å¥‡ä»–ä»¬ä¹‹é—´çš„å·®åˆ«ï¼Œæ‰€ä»¥å» TypeScriptå®˜ç½‘æ–‡æ¡£æŸ¥äº†ä¸‹&lt;a class="link" href="https://www.typescriptlang.org/tsconfig/#jsx" target="_blank" rel="noopener"
&gt;èµ„æ–™&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Controls how JSX constructs are emitted in JavaScript files. This only affects output of JS files that started in .tsx files.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;react: Emit .js files with JSX changed to the equivalent React.createElement calls&lt;/li&gt;
&lt;li&gt;react-jsx: Emit .js files with the JSX changed to _jsx calls&lt;/li&gt;
&lt;li&gt;react-jsxdev: Emit .js files with the JSX to _jsx calls&lt;/li&gt;
&lt;li&gt;preserve: Emit .jsx files with the JSX unchanged&lt;/li&gt;
&lt;li&gt;react-native: Emit .js files with the JSX unchanged&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ummï¼Œè¯´å®è¯æ²¡çœ‹æ‡‚ï¼Œç»§ç»­å¾€ä¸‹æ»‘ï¼Œå‘ç°ä¸€ä¸ª&lt;a class="link" href="https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html" target="_blank" rel="noopener"
&gt;é“¾æ¥&lt;/a&gt;ï¼Œç‚¹è¿›å»ï¼Œè¯»äº†ä¸‹ï¼Œå‘ç°&lt;code&gt;react-jsx&lt;/code&gt;ç›¸å¯¹&lt;code&gt;react&lt;/code&gt;æœ‰è®¸å¤šä¼˜ç‚¹ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;With the new transform, you can &lt;strong&gt;use JSX without importing React&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Depending on your setup, its compiled output may &lt;strong&gt;slightly improve the bundle size&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;It will enable future improvements that &lt;strong&gt;reduce the number of concepts&lt;/strong&gt; you need to learn React.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç»§ç»­ç§‰æ‰¿ç€â€œå•¥æ–°ç”¨å•¥â€çš„ä¿¡æ¡ï¼Œæˆ‘ä¾¿å°†&lt;code&gt;tsconfig.json&lt;/code&gt;é‡Œçš„&lt;code&gt;&amp;quot;jsx&amp;quot;: &amp;quot;react-jsx&amp;quot;&lt;/code&gt;æ”¹æˆäº†&lt;code&gt;&amp;quot;jsx&amp;quot;: &amp;quot;react&amp;quot;&lt;/code&gt;ã€‚ä½†æ˜¯è¿‡äº†ä¼šå„¿çªç„¶æƒ³èµ·æ¥æˆ‘ä½¿ç”¨çš„&lt;code&gt;babel-loader&lt;/code&gt;ç¼–è¯‘çš„ï¼Œæ‰€ä»¥å†™åœ¨&lt;code&gt;tsconfig.json&lt;/code&gt;é‡Œå…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨&amp;hellip;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åº”è¯¥ä¿®æ”¹&lt;code&gt;babel.config.js&lt;/code&gt;çš„&lt;code&gt;module.exports&lt;/code&gt;ï¼Œæ·»åŠ ä»¥ä¸‹å±æ€§ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-js" data-lang="js"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;module&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;exports&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;presets&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;@babel/preset-react&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;runtime&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;automatic&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸è¿‡å•å•è¿™ä¹ˆæ”¹è¿˜æ˜¯ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸º ESLint çš„ç¼˜æ•…ï¼Œå®é™…ä¸Šä»£ç æ˜¯å¯ä»¥æ­£å¸¸ç¼–è¯‘çš„ã€‚ä¸è¿‡ ESLint æ€»æ˜¯æŠ¥é”™çœ‹ç€å¾ˆä¸çˆ½å‘€ï¼Œè¯´å®è¯æˆ‘éƒ½æƒ³æŠŠå®ƒç»™å¸è½½äº†ã€‚ä½†æ˜¯è½¬å¿µåˆæƒ³åˆ°å°†æ¥å›¢é˜Ÿåä½œè‚¯å®šæ˜¯è¦ç”¨åˆ°çš„ï¼Œåªå¥½å†ç¡¬ç€å¤´çš®ç»§ç»­å†™äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹ ESLint é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-js" data-lang="js"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;rules&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;react/jsx-uses-react&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;off&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;react/react-in-jsx-scope&amp;#34;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;off&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item></channel></rss>