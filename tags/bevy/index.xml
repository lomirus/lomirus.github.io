<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Bevy on Lomirus' Site</title><link>https://lomirus.github.io/tags/bevy/</link><description>Recent content in Bevy on Lomirus' Site</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 19 Dec 2021 00:01:05 +0800</lastBuildDate><atom:link href="https://lomirus.github.io/tags/bevy/index.xml" rel="self" type="application/rss+xml"/><item><title>Bevy v0.5~0.6 åŸºç¡€å…¥é—¨ï¼ˆåŸºäºŽ Github bevy/main Dec 18, 21 æž„å»ºç‰ˆæœ¬ï¼‰</title><link>https://lomirus.github.io/p/bevy-tutorial/</link><pubDate>Sun, 19 Dec 2021 00:01:05 +0800</pubDate><guid>https://lomirus.github.io/p/bevy-tutorial/</guid><description>&lt;img src="https://lomirus.github.io/p/bevy-tutorial/cover.png" alt="Featured image of post Bevy v0.5~0.6 åŸºç¡€å…¥é—¨ï¼ˆåŸºäºŽ Github bevy/main Dec 18, 21 æž„å»ºç‰ˆæœ¬ï¼‰" />&lt;h2 id="ä¸€äº›ç¢Žç¢Žå¿µ">ä¸€äº›ç¢Žç¢Žå¿µ&lt;/h2>
&lt;h3 id="å¹´è½»äººçš„ç¬¬ä¸€æ¬¾å¼€æºæ¸¸æˆå¼•æ“Žgodot">å¹´è½»äººçš„ç¬¬ä¸€æ¬¾å¼€æºæ¸¸æˆå¼•æ“Žï¼šGodot&lt;/h3>
&lt;p>è®¸ä¹…ä»¥å‰å°±ä¸€ç›´æœ‰åšæ¸¸æˆçš„æƒ³æ³•ã€‚ä¸­å­¦æ—¶æˆ–å¤šæˆ–å°‘åœ°æŽ¥è§¦æˆ–å¬è¯´è¿‡ CocosCreatorã€Ergetã€Unity å’Œ Unreal
ç­‰è‘—åå¼•æ“Žï¼Œç„¶è€Œè¿™äº›éƒ½æ˜¯å•†ä¸šå¼•æ“Žï¼Œä¸”å¯¹æˆ‘æ¥è¯´å¤ªè¿‡ç¬¨é‡ã€‚å¤§ä¸€çš„æ—¶å€™å¬è¯´äº†
Godotï¼Œå¾—çŸ¥å®ƒåº”è¯¥æ˜¯å½“å‰ä¸–ç•ŒèŒƒå›´å†…æœ€å®Œå–„ï¼Œä¹Ÿæ˜¯çŸ¥åä¸Žæµè¡Œåº¦æœ€å¹¿çš„å¼€æºæ¸¸æˆå¼•æ“Žäº†ã€‚è€Œä¸”ä½“ç§¯æžå…¶ç²¾ç®€ï¼Œåªæœ‰ä¸è¿‡ç™¾å…†ï¼›ä¸Žå…¶ä»–å¤§åž‹å¼•æ“ŽåŠ¨è¾„å‡  GB
çš„ä½“ç§¯ç›¸æ¯”ï¼Œå®žå±žä¸€è‚¡æ¸…æµã€‚äºŽæ˜¯æ·±å¾—æˆ‘å¿ƒï¼Œæˆ‘åŽé¢ä¹Ÿå¼€å§‹å­¦ä¹ è¿™æ¬¾å¼•æ“Žã€‚&lt;/p>
&lt;p>è¿™æ¬¾å¼•æ“Žä¸»è¦é¢å‘çš„åº”è¯¥æ˜¯ç‹¬ç«‹æ¸¸æˆå¼€å‘è€…ï¼Œé¢„è®¾äº†å¼€å‘è€…æŠ€æœ¯èƒ½åŠ›ä¸å¼ºçš„ç«‹åœºï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸ºäº†ä½¿æ›´å¤šäººæŽ¥è§¦åˆ°æ¸¸æˆå¼€å‘ï¼Œæ‰€ä»¥å†…ç½®çš„å®˜æ–¹è¯­è¨€æ˜¯ä¸€é—¨å«åš GDScript
çš„è„šæœ¬è¯­è¨€ï¼Œè¯­æ³•æžå…¶ç±»ä¼¼ Pythonã€‚åŒæ—¶ä¸ºäº†ç§‰æŒå¼€æ”¾æ€§ï¼Œä¹Ÿæä¾›äº† GDNative ä¾›å¼€å‘è€…ä½¿ç”¨å‡ ä¹Žæ˜¯ä»»æ„è¯­è¨€ï¼ˆå¦‚ C/C++/Rust ç­‰ï¼‰è¿›è¡Œå¼€å‘ã€‚&lt;/p>
&lt;p>é¦–å…ˆè°ˆä¸€ä¸‹è¿™ä¸ª Pythonï¼Œå“¦ä¸ï¼Œæ˜¯ GDScriptï¼Œæˆ‘ä¸ªäººå…¶å®žå¹¶ä¸æ˜¯å¾ˆå–œæ¬¢è¿™é—¨è¯­è¨€ï¼Œç®€è¦åˆ—ä¸¾ä¸€äº›åŽŸå› ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸ªäººä¸å–œæ¬¢ Python çš„ç¼©è¿›è¯­æ³•&lt;/li>
&lt;li>GDScript è¯­è¨€æœ¬èº«è¿‡äºŽå°ä¼—ï¼ˆä½†å°ä¼—æœ¬èº«ä¸æ˜¯åŽŸç½ªï¼‰ï¼Œé€‚ç”¨èŒƒå›´ç‹­çª„ï¼Œè¯­æ³•è®¾è®¡æ‹‰è·¨ï¼Œä¸å¤Ÿä¼˜é›…&lt;/li>
&lt;li>æ€§èƒ½æ‹‰è·¨ï¼Œä¹‹å‰çœ‹è¿‡æµ‹è¯•é€Ÿåº¦æ¯” Python è¿˜æ…¢&lt;/li>
&lt;/ul>
&lt;p>å½“ç„¶ Godot ä¹Ÿå¯ä»¥é€šè¿‡ GDNative ä½¿ç”¨æˆ‘æœ€å–œæ¬¢çš„ Rustã€‚ä½†æ˜¯ä¸­é—´ç»ˆç©¶éš”ç€ä¸€å±‚è½¬è¯‘å±‚ï¼Œå¦‚åŒéš”ç€ä¸€å±‚å¯æ‚²çš„åŽšå£éšœï¼ˆä»€ä¹ˆå¥‡å¦™æ¯”å–»ï¼Ÿï¼‰ã€‚å…¶æ¬¡,
Godot æœ¬èº«ä½¿ç”¨çš„ Node æž¶æž„ä¹Ÿä¼šå¸¦æ¥ä¸€å®šæ€§èƒ½ä¸Šçš„é—®é¢˜,å‚è§å®˜æ–¹æ–‡æ¡£ï¼š&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>When and how to avoid using nodes for everything&lt;/strong>&lt;/p>
&lt;p>Nodes are cheap to produce, but even they have their limits. A project may
have tens of thousands of nodes all doing things. The more complex their
behavior though, the larger the strain each one adds to a project&amp;rsquo;s
performance.&lt;/p>
&lt;p>(&lt;a class="link" href="https://docs.godotengine.org/en/stable/getting_started/workflow/best_practices/node_alternatives.html" target="_blank" rel="noopener"
>https://docs.godotengine.org/en/stable/getting_started/workflow/best_practices/node_alternatives.html&lt;/a>)&lt;/p>
&lt;/blockquote>
&lt;p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼š&lt;/p>
&lt;blockquote>
&lt;p>ä½ å°±ä¸€è‡­åšç‹¬æ¸¸çš„ï¼Œè¿˜è€ƒè™‘ä¸ªé”¤å­æ€§èƒ½ï¼Ÿ&lt;/p>
&lt;/blockquote>
&lt;p>è¯è™½å¦‚æ­¤ï¼Œå¯æœ‰å“ªä¸ªå¼€å‘è€…èƒ½æ‹’ç»å¯¹æ€§èƒ½çš„è¿½æ±‚å‘¢ï¼Ÿå†è€…ï¼Œå¼€å‘ä½“éªŒå¯¹æˆ‘æ¥è¯´æ‰æ˜¯å®ƒæ›´å¤§çš„ç—›ç‚¹ã€‚&lt;/p>
&lt;h3 id="ä»Ž-godot-å›­åˆ°-bevy-ä¹¦å±‹">ä»Ž Godot å›­åˆ° Bevy ä¹¦å±‹&lt;/h3>
&lt;p>åŽæ¥ï¼Œæˆ‘åˆä¸çŸ¥é“åœ¨å“ªçœ‹åˆ°äº† Bevy è¿™ä¸ªæ¸¸æˆå¼•æ“Žã€‚ä¸€å¼€å§‹æ²¡æ€Žä¹ˆæ³¨æ„å®ƒï¼Œæœ€è¿‘è§æˆ‘åŠ çš„ä¸€ä¸ª Godot æ¸¸æˆå¼€å‘çš„ç¾¤ç»„ä¹Ÿæ—¶è€Œæåˆ°å®ƒï¼Œä½†å¼€å§‹å¯¹å®ƒå†æ¬¡èŒç”Ÿå¥½å¥‡ä¹‹å¿ƒã€‚&lt;/p>
&lt;p>å°è±¡é‡Œï¼ŒRust é‡Œé¢ä¹‹å‰æ¯”è¾ƒç«çš„å¼€æºæ¸¸æˆå¼•æ“Žæœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ª &lt;a class="link" href="https://github.com/amethyst/amethyst" target="_blank" rel="noopener"
>Amethyst&lt;/a>
å’Œä¸€ä¸ª &lt;a class="link" href="https://github.com/bevyengine/bevy" target="_blank" rel="noopener"
>Bevy&lt;/a>ã€‚çœ‹ Bevy ä¹‹å‰ç‰¹æ„ä¹ŸæŸ¥äº†ä¸‹
Amethystï¼Œå‘çŽ°å®ƒå·²ç»å¤„äºŽè¿‘ä¹Žåœæ­¢ç»´æŠ¤çš„çŠ¶æ€äº†ï¼›åˆåŽ»ç¿»äº†ä¸€ä¸‹å®ƒçš„è®ºå›ï¼Œå‘çŽ°é‡Œé¢ä¹Ÿæœ‰ä¸€äº›è°ˆåˆ° Bevy
çš„ä¼˜ç§€ç‰¹æ€§ç”šè‡³æ˜¯æŽ¨èè½¬ Bevy çš„å¸–å­ï¼Œé‚ä¸ç¦å”å˜˜ã€‚ä¸è¿‡åŒæ—¶ï¼Œè¿™ä¹Ÿåšå®šäº†æˆ‘è½¬å‘ Bevy çš„å†³å¿ƒï¼Œä¸ºä¸‹æ–‡ä¸­ä¸Ž Bevy çš„é‚‚é€…åŸ‹ä¸‹äº†ä¼ç¬”ï¼ˆé˜…è¯»ç†è§£åŽé—ç—‡äº†å±žäºŽæ˜¯ï¼‰ã€‚&lt;/p>
&lt;p>æ€»ä¹‹ï¼ŒæŽ¥è§¦åˆ° Bevy åŽä¸ä¹…ï¼Œæˆ‘å°±ç¡®å®šå…¨é¢è½¬å‘å®ƒäº†ã€‚å®ƒå¸å¼•æˆ‘çš„åœ°æ–¹å®žåœ¨å¤ªå¤šï¼Œå†ç®€å•åˆ—å‡ æ¡ï¼š&lt;/p>
&lt;ul>
&lt;li>Open Source, Free(è‡ªç”±) &amp;amp; Free(å…è´¹)&lt;/li>
&lt;li>æºç ä¸Žå¼€å‘è¯­è¨€å‡ä¸ºæˆ‘æœ€å–œæ¬¢çš„ Rustï¼ˆJS è°å•Šï¼Œä¸æ˜¯å¾ˆç†ŸðŸ¤”ï¼‰&lt;/li>
&lt;li>é‡‡ç”¨æ–°æ½®çš„ ECS æž¶æž„ï¼Œå¤©ç”Ÿå¹¶å‘å‹å¥½ï¼Œæ€§èƒ½ä¼˜å¼‚&lt;/li>
&lt;li>å¯¹åŽŸç”Ÿå·¥å…·é“¾å‹å¥½ï¼Œå¦‚ VSCode/Cargo ç­‰ï¼Œå¼€å‘çŽ¯å¢ƒå¯¹æˆ‘æ¥è¯´æ›´ç†Ÿæ‚‰&lt;/li>
&lt;li>å¯ä»¥è°ƒç”¨ Rust çš„ä¸°å¯Œç”Ÿæ€&lt;/li>
&lt;li>&lt;del>æ—  GUIï¼Œå­¦ä¹ æˆæœ¬ä½Žï¼ˆxï¼‰&lt;/del>&lt;/li>
&lt;li>&lt;del>å®ƒä½œè€…æœ¬äººä¹Ÿå¾ˆè®©æˆ‘å–œæ¬¢ðŸ‘€&lt;/del>&lt;/li>
&lt;/ul>
&lt;p>è¯ä¸å¤šè¯´ï¼Œèµ¶ç´§è¿›å…¥æˆ‘ä»¬ä»Šå¤©çš„æ­£é¢˜ï¼ŒBevy çš„åŸºç¡€æ•™ç¨‹å§&lt;/p>
&lt;p>ï¼ˆæœ¬æ–‡å‡å®šä½ å·²ç»æœ‰ä¸€å®šçš„ Rust è¯­æ³•åŸºç¡€ï¼Œå¯¹å…¶ä½¿ç”¨ä¸Šçš„è¯­æ³•ç»†èŠ‚ä¸ä¼šè¿‡å¤šè®²è§£ï¼‰&lt;/p>
&lt;h2 id="ecs-æž¶æž„æ‰«ç›²">ECS æž¶æž„æ‰«ç›²&lt;/h2>
&lt;blockquote>
&lt;p>ä»€ä¹ˆå‘€ï¼ŒECSï¼Œæˆ‘çŸ¥é“ï¼Œä¸å°±æ˜¯é˜¿é‡Œäº‘çš„é‚£ä¸ªäº‘æœåŠ¡å™¨å—ï¼Œå¥½åƒå…¨ç§°æ˜¯ä»€ä¹ˆå¼¹æ€§è®¡ç®—æœåŠ¡ï¼ˆElastic Compute Serviceï¼‰ï¼Ÿ&lt;/p>
&lt;/blockquote>
&lt;p>å°‘å¹´ï¼ŒèŽ«æ€¥ï¼Œæ­¤ ECS éžå½¼ ECSï¼Œè¿™é‡Œçš„ ECSï¼ŒæŒ‡çš„æ˜¯ï¼š&lt;code>Entity-Component-System&lt;/code>ã€‚&lt;/p>
&lt;p>ECS æ˜¯ç›¸å¯¹äºŽä¼ ç»Ÿçš„ OOP æ€æƒ³è€Œè¨€çš„ï¼Œéµå¾ªâ€œç»„åˆå¤§äºŽç»§æ‰¿â€çš„åŽŸåˆ™ã€‚åœ¨ ECS æž¶æž„çš„æ¸¸æˆä¸­ï¼Œæ¸¸æˆå•å…ƒç”±æ— æ•°çš„ &lt;code>Entity&lt;/code> æž„æˆï¼Œå…¶ä¸­
&lt;code>Entity&lt;/code> å¯ç±»æ¯”åšå¸¸è§ç¼–ç¨‹æ¦‚å¿µä¸­çš„å®žä¾‹ã€‚è€Œæ¯ä¸ª &lt;code>Entity&lt;/code> åˆ™ç”±å¤šä¸ªæˆ–å•ä¸ª &lt;code>Component&lt;/code> ç»„æˆï¼Œ&lt;code>Component&lt;/code>
æ˜¯å­˜å‚¨æ•°æ®çš„ç»“æž„ç±»åž‹ï¼Œä¸åŒ…å«ä»»ä½•æ–¹æ³•ã€‚å¦‚æžœæƒ³è¦æ›´æ–°æ¸¸æˆæ•°æ®ï¼Œåˆ™éœ€è¦é€šè¿‡ &lt;code>System&lt;/code> æ¥å®Œæˆã€‚&lt;/p>
&lt;p>å¦‚æžœéœ€è¦è¿›ä¸€æ­¥ä»‹ç»ï¼Œå¯è‡ªè¡Œç™¾åº¦/è°·æ­Œã€‚&lt;/p>
&lt;p>å…‰è¯´ä¸ç»ƒç•¥æ˜¾æŠ½è±¡ï¼Œè¿˜æ˜¯ä¸€èµ·æ¥çœ‹ä¸‹é¢çš„ä»£ç å§ï¼š&lt;/p>
&lt;h2 id="ä½¿ç”¨-bevy-å®žçŽ°ç®€å•çš„-ecs-æž¶æž„">ä½¿ç”¨ Bevy å®žçŽ°ç®€å•çš„ ECS æž¶æž„&lt;/h2>
&lt;p>Bevy æ˜¯ä¸€æ¬¾åŸºäºŽ ECS æž¶æž„çš„æ¸¸æˆå¼•æ“Žï¼Œå®ƒçš„å®˜ç½‘ä¸Šå°±è¿™ä¹ˆå†™é“ï¼š&lt;/p>
&lt;blockquote>
&lt;p>Massively Parallel and Cache-Friendly. The fastest ECS according to some
benchmarks&lt;/p>
&lt;/blockquote>
&lt;p>ç®€å•ç¿»è¯‘ä¸‹å°±æ˜¯ï¼šå¤§è§„æ¨¡å¹¶è¡Œ&amp;amp;ç¼“å­˜å‹å¥½ï¼Œæ®æŸäº›æµ‹è¯„è¯´æ˜¯æœ€å¿«çš„ ECS æ¸¸æˆå¼•æ“Ž&lt;/p>
&lt;p>å› æ­¤ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±ä½¿ç”¨ Bevy æ¥å®žè·µä¸€ä¸‹ ECSï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">cargo new bevy-demo
&lt;span class="nb">cd&lt;/span> bevy-demo
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¿®æ”¹ &lt;code>Cargo.toml&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="p">[&lt;/span>&lt;span class="nx">package&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="nx">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;bevy-demo&amp;#34;&lt;/span>
&lt;span class="nx">version&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;0.1.0&amp;#34;&lt;/span>
&lt;span class="nx">edition&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;2021&amp;#34;&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="nx">dependencies&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bevy&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="nx">git&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;https://github.com/bevyengine/bevy&amp;#34;&lt;/span>
&lt;span class="nx">rev&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;11f52b8c72fc3a568e8bb4a4cd1f3eb025ac2e13&amp;#34;&lt;/span>
&lt;span class="nx">features&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;dynamic&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ³¨æ„ï¼Œè¿™é‡Œæ²¡æœ‰ä½¿ç”¨ crate.io ä¸Šçš„æœ€æ–°ç‰ˆ 0.5.0ï¼Œè€Œæ˜¯ä½¿ç”¨äº†å…¶ Github ä¸Šçš„æœ€æ–°ç‰ˆã€‚åŽŸå› æ˜¯ 0.6.0 å‘å¸ƒåœ¨å³ï¼ˆä¼°è®¡è¿˜æœ‰å‡ ä¸ªæœˆï¼‰ï¼Œå½“å‰ç‰ˆæœ¬ä¸Ž
0.5.0 çš„ç”¨æ³•å·²ç»å­˜åœ¨è¾ƒå¤§å·®å¼‚ã€‚æ‰€ä»¥ç›´æŽ¥ä½¿ç”¨è¾ƒæ–°çš„ç‰ˆæœ¬ä¹Ÿå¯ä»¥é™ä½Žä»ŠåŽçš„å­¦ä¹ æˆæœ¬ã€‚&lt;/p>
&lt;p>è¯·ç¡®ä¿ä½ çš„é…ç½®ä¸­ &lt;code>rev&lt;/code> ä¸Žæ­¤å¤„ç›¸åŒã€‚æœ¬æ–‡æ‰€åŸºäºŽçš„ç‰ˆæœ¬ä¸º Github ä¸Š 2021-12-18 çš„æœ€æ–°æäº¤ã€‚&lt;/p>
&lt;p>&lt;code>features&lt;/code> ä¸­çš„ &lt;code>dynamic&lt;/code> æ˜¯ç”¨äºŽåŠ å¿«æž„å»ºé€Ÿåº¦çš„ï¼Œä½†æ˜¯å½“ä½ æ­£å¼å‘å¸ƒ Release
æ—¶æœ€å¥½åŽ»æŽ‰æ­¤ç‰¹æ€§ï¼Œè‡³äºŽä¸ºä»€ä¹ˆï¼Œä½ å¯ä»¥è‡ªå·±åŽ»è§‚å¯Ÿä¸‹å½“å¼€å¯æˆ–å…³é—­æ­¤ç‰¹æ€§åŽçš„ç”Ÿæˆçš„ç¼–è¯‘äº§ç‰©åˆ†åˆ«æ˜¯ä»€ä¹ˆã€‚&lt;/p>
&lt;p>ç®€ç®€å•å•ä¸€ä¸ª Hello World çº§åˆ«çš„ä¸»æ–‡ä»¶(&lt;code>main.rs&lt;/code>)ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">use&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bevy&lt;/span>::&lt;span class="n">prelude&lt;/span>::&lt;span class="o">*&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="k">fn&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">App&lt;/span>::&lt;span class="n">new&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è·‘èµ·æ¥è¯•è¯•&lt;/p>
&lt;pre>&lt;code>cargo run
&lt;/code>&lt;/pre>&lt;p>å•¥è¾“å‡ºä¹Ÿæ²¡æœ‰ï¼Œæ­£å¸¸é¢„æœŸã€‚&lt;/p>
&lt;p>æŽ¥ä¸‹æ¥å†åŠ ä¸Šç‚¹ ECS æž¶æž„ï¼š&lt;/p>
&lt;p>é¦–å…ˆï¼Œå®šä¹‰ &lt;code>Component&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="cp">#[derive(Component)]&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">Person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>: &lt;span class="nb">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">job&lt;/span>: &lt;span class="nb">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>: &lt;span class="kt">u32&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å†™ä¸€ä¸ªåˆ›å»º &lt;code>Entity&lt;/code> çš„ &lt;code>System&lt;/code>ï¼ˆå‡½æ•°ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">init_people&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commands&lt;/span>: &lt;span class="nc">Commands&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spawn&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>: &lt;span class="s">&amp;#34;é‡Žç£å…ˆè¼©&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">to_string&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">job&lt;/span>: &lt;span class="s">&amp;#34;å­¦ç”Ÿ&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">to_string&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>: &lt;span class="mi">24&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spawn&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>: &lt;span class="s">&amp;#34;ç”°æ‰€æµ©äºŒ&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">to_string&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">job&lt;/span>: &lt;span class="s">&amp;#34;å­¦ç”Ÿ&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">to_string&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">age&lt;/span>: &lt;span class="mi">114514&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŽ¥ç€å†å†™ä¸€ä¸ªéåŽ†æ‰€æœ‰ &lt;code>Entities&lt;/code> å¹¶è¾“å‡ºçš„ &lt;code>System&lt;/code>ï¼ˆå‡½æ•°ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">print_people&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">query&lt;/span>: &lt;span class="nc">Query&lt;/span>&lt;span class="o">&amp;lt;&amp;amp;&lt;/span>&lt;span class="n">Person&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">person&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">in&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;{}ï¼š{} æ­³ã€{}ã§ã™&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">job&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŽ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦æŠŠè¿™äº›ä¸œè¥¿æ•´åˆèµ·æ¥ï¼Œä¹Ÿå°±æ˜¯æ·»åŠ åˆ° &lt;code>main()&lt;/code> ä¸­çš„ &lt;code>App&lt;/code> ä¸Šã€‚&lt;/p>
&lt;p>è¿™é‡Œè¦å…ˆä»‹ç» &lt;code>App&lt;/code> çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œ&lt;code>add_system()&lt;/code> å’Œ &lt;code>add_startup_system()&lt;/code>ã€‚&lt;code>add_system()&lt;/code>
é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”¨æ¥æ·»åŠ  &lt;code>system&lt;/code> åˆ° &lt;code>App&lt;/code> ä¸Šçš„ï¼›è€Œ &lt;code>add_startup_system()&lt;/code>ï¼Œåˆ™æ˜¯ä¼šåœ¨æ¸¸æˆåˆå§‹åŒ–é˜¶æ®µä¹Ÿå°±æ˜¯æœ€å¼€å§‹æ‰§è¡ŒæŸä¸ª
&lt;code>system&lt;/code>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸»å‡½æ•°æ”¹æˆè¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">App&lt;/span>::&lt;span class="n">new&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_startup_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">init_people&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">print_people&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰§è¡Œ &lt;code>cargo run&lt;/code>ï¼Œè¾“å‡ºç»“æžœæ˜¯ï¼š&lt;/p>
&lt;pre>&lt;code>$ cargo run
Compiling rust-demo v0.1.0 (/home/lomirus/demo/rust-demo)
Finished dev [unoptimized + debuginfo] target(s) in 3.03s
Running `target/debug/rust-demo`
é‡Žç£å…ˆè¼©ï¼š24 æ­³ã€å­¦ç”Ÿã§ã™
ç”°æ‰€æµ©äºŒï¼š114514 æ­³ã€å­¦ç”Ÿã§ã™
&lt;/code>&lt;/pre>&lt;h2 id="bevy-åŸºç¡€å¼€å‘">Bevy åŸºç¡€å¼€å‘&lt;/h2>
&lt;p>æœ‰äº›å°ä¼™ä¼´å¯èƒ½ä¼šé—®äº†ï¼š&lt;/p>
&lt;blockquote>
&lt;p>æ­£ç»äººè°çŽ©æŽ§åˆ¶å°é»‘æ¡†æ¡†æ¸¸æˆå‘€ï¼Ÿ&lt;/p>
&lt;/blockquote>
&lt;p>ç¡®å®žï¼ŒBevy æ¯•ç«Ÿä¹Ÿä¸æ˜¯ç”¨æ¥å†™ CLI çš„ã€‚æ‰€ä»¥æŽ¥ä¸‹æ¥æˆ‘ä»¬å†å®žçŽ°ä¸€ä¸ªç®€å•çš„å›¾å½¢ç•Œé¢ã€‚&lt;/p>
&lt;h3 id="å‡†å¤‡èµ„æº">å‡†å¤‡èµ„æº&lt;/h3>
&lt;p>é¦–å…ˆï¼Œåœ¨é¡¹ç›®ç›®å½•åˆ›å»ºä¸€ä¸ª &lt;code>assets&lt;/code> æ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢æ”¾ä¸€å¼ å›¾ç‰‡ã€‚æ¯”å¦‚æˆ‘æ”¾äº†ä¸€å¼  &lt;code>image.jpg&lt;/code> è¿›åŽ»ï¼Œä½†æ˜¯è¿™é‡Œè¦æ³¨æ„ï¼Œbevy é»˜è®¤æ˜¯ä¸æ”¯æŒè½½å…¥
jpg æ ¼å¼çš„å›¾ç‰‡çš„ï¼Œè¿™æ—¶éœ€è¦ä¿®æ”¹ä¸€ä¸‹ Cargo.toml&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="p">[&lt;/span>&lt;span class="nx">dependencies&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bevy&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="nx">git&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;https://github.com/bevyengine/bevy&amp;#34;&lt;/span>
&lt;span class="nx">rev&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;11f52b8c72fc3a568e8bb4a4cd1f3eb025ac2e13&amp;#34;&lt;/span>
&lt;span class="c"># features = [&amp;#34;dynamic&amp;#34;]&lt;/span>
&lt;span class="nx">features&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jpeg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;dynamic&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™æ ·å°±å¯ä»¥æ”¯æŒè½½å…¥ jpg æ ¼å¼çš„å›¾ç‰‡äº†ã€‚&lt;/p>
&lt;p>ç„¶åŽï¼Œå†åœ¨ &lt;code>assets&lt;/code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªå­—ä½“æ–‡ä»¶ã€‚ç”±äºŽæˆ‘æ˜¯ Linux ç”¨æˆ·ï¼Œæ‰€ä»¥ç›´æŽ¥å¤åˆ¶äº†ä¸€ä»½ç³»ç»Ÿè‡ªå¸¦çš„
&lt;code>NotoSansMono-Regular.ttf&lt;/code> å­—ä½“ã€‚è¿™é‡Œä½ å½“ç„¶ä¹Ÿå¯ä»¥é€‰è‡ªå·±å–œæ¬¢çš„ï¼Œè®°å¾—åŽé¢çš„ç›¸åº”æ“ä½œæ”¹æˆä½ çš„å­—ä½“åå°±è¡Œã€‚&lt;/p>
&lt;h3 id="åˆ›å»ºçª—å£">åˆ›å»ºçª—å£&lt;/h3>
&lt;p>Bevy çš„è®¾è®¡æ˜¯å¾ˆæ¨¡å—åŒ–çš„ï¼Œè®¸å¤šåŠŸèƒ½éƒ½è¢«æ‹†æˆäº†ä¸åŒçš„æ¨¡å—ï¼Œåˆ©ç”¨æ·»åŠ æ’ä»¶çš„å½¢å¼ä½¿ç”¨ã€‚ä¸è¿‡å¹¸å¥½ Bevy ä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†é»˜è®¤çš„æ’ä»¶é…ç½®ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="n">App&lt;/span>::&lt;span class="n">new&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_plugins&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DefaultPlugins&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_startup_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">init_people&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">print_people&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»¥æ­¤å¯¼å…¥é»˜è®¤æ’ä»¶ï¼Œç„¶åŽæˆ‘ä»¬è¿è¡Œï¼Œä¼šå‘çŽ°æŽ§åˆ¶å°ä¸æ–­è¾“å‡ºå†…å®¹ï¼ŒåŒæ—¶ä¹Ÿå¼¹å‡ºäº†ä¸€ä¸ªçª—å£ï¼š&lt;/p>
&lt;p>&lt;img src="https://lomirus.github.io/p/bevy-tutorial/1.png"
width="1373"
height="797"
srcset="https://lomirus.github.io/p/bevy-tutorial/1_hue148111860adebf77525104457fa5750_112513_480x0_resize_box_3.png 480w, https://lomirus.github.io/p/bevy-tutorial/1_hue148111860adebf77525104457fa5750_112513_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="172"
data-flex-basis="413px"
>&lt;/p>
&lt;p>è¿™å°±è¯´æ˜Žæ·»åŠ æˆåŠŸäº†ï¼Œè‡³äºŽæŽ§åˆ¶å°é‡Œä¼šå‡ºçŽ°æ— é™è¾“å‡ºçš„çŽ°è±¡ï¼Œæ˜¯å› ä¸ºæ·»åŠ  &lt;code>DefaultPlugins&lt;/code> çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿå¼•å…¥äº† eventloopã€‚&lt;/p>
&lt;h3 id="è½½å…¥å›¾ç‰‡">è½½å…¥å›¾ç‰‡&lt;/h3>
&lt;p>çŽ°åœ¨æˆ‘ä»¬ä¹‹å‰å†™çš„å‡½æ•°éƒ½å¯ä»¥æ‰¬äº†ï¼Œå†é‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„ &lt;code>main&lt;/code> å‡½æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">App&lt;/span>::&lt;span class="n">new&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_plugins&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DefaultPlugins&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_startup_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">setup&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŽ¥ä¸‹æ¥æˆ‘ä»¬å°†åœ¨ &lt;code>setup&lt;/code> å‡½æ•°ä¸­å®žçŽ°è½½å…¥å›¾ç‰‡çš„é€»è¾‘ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">setup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commands&lt;/span>: &lt;span class="nc">Commands&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">asset_server&lt;/span>: &lt;span class="nc">Res&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">AssetServer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spawn&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">insert_bundle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SpriteBundle&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">texture&lt;/span>: &lt;span class="nc">asset_server&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;image.jpg&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">..&lt;/span>&lt;span class="nb">Default&lt;/span>::&lt;span class="n">default&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™å°±å°±æ·»åŠ äº†å›¾ç‰‡åˆ°æ¸¸æˆé‡Œé¢ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶çœ‹ä¸åˆ°å›¾ç‰‡ï¼ŒåŽŸå› æ˜¯æˆ‘ä»¬æ²¡æœ‰æ·»åŠ æ‘„åƒå¤´ï¼Œæ‰€ä»¥æŽ¥ä¸‹æ¥æˆ‘ä»¬å†æ·»åŠ ä¸€ä¸ªâ€œæ­£äº¤ç›¸æœºâ€ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="n">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spawn&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">insert_bundle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">OrthographicCameraBundle&lt;/span>::&lt;span class="n">new_2d&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="n">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spawn&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">insert_bundle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SpriteBundle&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">texture&lt;/span>: &lt;span class="nc">asset_server&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;image.jpg&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">..&lt;/span>&lt;span class="nb">Default&lt;/span>::&lt;span class="n">default&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ­¤å¤–ï¼Œ&lt;code>spawn().insert_bundle(bundle)&lt;/code> è¿˜å¯ä»¥ç®€åŒ–æˆ &lt;code>spawn_bundle(bundle)&lt;/code>ï¼Œæ‰€ä»¥ä¸Šé¢çš„ä»£ç å¯ä»¥æ”¹æˆï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="n">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spawn_bundle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">OrthographicCameraBundle&lt;/span>::&lt;span class="n">new_2d&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="n">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spawn_bundle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SpriteBundle&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">texture&lt;/span>: &lt;span class="nc">asset_server&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;image.jpg&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">..&lt;/span>&lt;span class="nb">Default&lt;/span>::&lt;span class="n">default&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿è¡Œçœ‹çœ‹æ•ˆæžœï¼š&lt;/p>
&lt;p>&lt;img src="https://lomirus.github.io/p/bevy-tutorial/2.png"
width="1047"
height="780"
srcset="https://lomirus.github.io/p/bevy-tutorial/2_hu0a6691a004755614bb9814156d75c6f2_125093_480x0_resize_box_3.png 480w, https://lomirus.github.io/p/bevy-tutorial/2_hu0a6691a004755614bb9814156d75c6f2_125093_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="322px"
>&lt;/p>
&lt;h3 id="é”®ç›˜è¾“å…¥">é”®ç›˜è¾“å…¥&lt;/h3>
&lt;p>ä¸º &lt;code>App&lt;/code> å¢žåŠ è¯»å–é”®ç›˜è¾“å…¥çš„ç³»ç»Ÿï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="n">App&lt;/span>::&lt;span class="n">new&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_plugins&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DefaultPlugins&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_startup_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">setup&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">add_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">keyboard_input_system&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸‹é¢ç¼–å†™ &lt;code>keyboard_input_system&lt;/code> å‡½æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">keyboard_input_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">keyboard_input&lt;/span>: &lt;span class="nc">Res&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Input&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">KeyCode&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">A&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Go Left!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">D&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Go Right!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŽ¥ä¸‹æ¥è¿è¡Œä¸€ä¸‹ï¼ŒæŒ‰ä¸‹é”®ç›˜çš„ &lt;code>A&lt;/code> å’Œ &lt;code>D&lt;/code> é”®ï¼Œä¾¿ä¼šçœ‹åˆ°æŽ§åˆ¶å°å‡ºçŽ°ç›¸åº”çš„è¾“å‡ºã€‚å¦å¤–æ­¤å¤„çš„ &lt;code>keyboard_input&lt;/code> å¸¸ç”¨çš„æ–¹æ³•è¿˜æœ‰ä¸¤ä¸ª &lt;code>just_pressed()&lt;/code> å’Œ &lt;code>just_released()&lt;/code>ï¼Œå®ƒä»¬å„è‡ªå…·ä½“çš„ç”¨é€”å¯ä»¥è‡ªå·±åˆ†åˆ«è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹æ˜¯ä»€ä¹ˆæ•ˆæžœã€‚&lt;/p>
&lt;h3 id="è§’è‰²ç§»åŠ¨">è§’è‰²ç§»åŠ¨&lt;/h3>
&lt;p>ä¸ºäº†æ›´åŠ ä½¿å‡½æ•°åæ›´åŠ è¯­ä¹‰åŒ–ï¼Œæˆ‘ä»¬å…ˆæŠŠ &lt;code>keyboard_input_system()&lt;/code> æ”¹æˆ &lt;code>move_system()&lt;/code>ï¼Œç„¶åŽä¿®æ”¹å‡½æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">move_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>: &lt;span class="nc">Res&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Input&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">KeyCode&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>: &lt;span class="nc">Query&lt;/span>&lt;span class="o">&amp;lt;&amp;amp;&lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Transform&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">A&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">in&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">iter_mut&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">translation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">D&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">in&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">iter_mut&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">translation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”±äºŽæˆ‘ä»¬çš„åœ¨ä¹‹å‰çš„ &lt;code>setup&lt;/code> ä¸­æ·»åŠ çš„ &lt;code>SpriteBundle&lt;/code> ä¸­å«æœ‰ &lt;code>Transform&lt;/code> &lt;code>Component&lt;/code>ï¼Œæ‰€ä»¥è¿™é‡Œä¼šèŽ·å–åˆ°æ‰€æœ‰çš„ &lt;code>Transform&lt;/code>ã€‚ç„¶åŽæˆ‘ä»¬å¯¹å®ƒéåŽ†ï¼Œå¹¶ä¿®æ”¹å®ƒçš„ &lt;code>translate&lt;/code> å±žæ€§ï¼Œå¦‚æžœç”¨æˆ·æŒ‰ &lt;code>A&lt;/code> åˆ™è§’è‰²å‘å·¦ç§»åŠ¨ï¼ŒæŒ‰ &lt;code>D&lt;/code> åˆ™å‘å³ç§»åŠ¨ã€‚&lt;/p>
&lt;p>å¦‚æžœçŽ°åœ¨ä½ è¯•ç€è¿è¡Œï¼Œä½ ä¼šå‘çŽ°æŒ‰é”®åŽè§’è‰²å¹¶æ²¡æœ‰ç§»åŠ¨ã€‚ä¹‹æ‰€ä»¥è¿™æ ·ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å‰é¢è¿˜æ·»åŠ äº†ä¸€ä¸ªâ€œæ­£äº¤ç›¸æœºâ€ï¼Œå®ƒä¹Ÿå…·æœ‰ &lt;code>Transform&lt;/code> ç»„ä»¶ã€‚è€Œæ ¹æ®è‘—åçš„é”¡è¿›å®šå¾‹ï¼Œæˆ‘ä»¬æ˜“è¯ï¼š&lt;/p>
&lt;blockquote>
&lt;p>æ‰€æœ‰ç»„ä»¶éƒ½ç§»åŠ¨äº†ï¼Œå°±ç­‰äºŽæ‰€æœ‰ç»„ä»¶éƒ½æ²¡ç§»åŠ¨ã€‚ðŸ˜…&lt;/p>
&lt;/blockquote>
&lt;p>è¿™é‡Œä½“çŽ°äº†è¿åŠ¨çš„ç›¸å¯¹æ€§ï¼Œç”±äºŽç›¸æœºå’Œè§’è‰²æ˜¯ä¸€èµ·ç§»åŠ¨çš„ï¼Œæ‰€ä»¥åœ¨ç›¸æœºçœ‹æ¥ï¼Œè§’è‰²ç›¸å½“äºŽå°±æ˜¯æ²¡æœ‰ç§»åŠ¨ã€‚&lt;/p>
&lt;p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å†ç»™è§’è‰²æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„ç»„ä»¶ï¼ˆ&lt;code>Component&lt;/code>ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="cp">#[derive(Component)]&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">Player&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŽ¥ç€å†å‘è§’è‰²å®žä½“ &lt;code>Entity&lt;/code> æ·»åŠ ä¸Šè¯¥ &lt;code>Component&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">setup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commands&lt;/span>: &lt;span class="nc">Commands&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">asset_server&lt;/span>: &lt;span class="nc">Res&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">AssetServer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spawn_bundle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">OrthographicCameraBundle&lt;/span>::&lt;span class="n">new_2d&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commands&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spawn_bundle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SpriteBundle&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">texture&lt;/span>: &lt;span class="nc">asset_server&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;image.jpg&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">..&lt;/span>&lt;span class="nb">Default&lt;/span>::&lt;span class="n">default&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Player&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ€åŽå†ä¿®æ”¹ä¸€ä¸‹è§’è‰²ç§»åŠ¨ç³»ç»Ÿï¼Œè¦æ±‚æŸ¥è¯¢ï¼ˆ&lt;code>Query&lt;/code>ï¼‰åˆ°çš„è§’è‰²éœ€è¦å«æœ‰ &lt;code>Player&lt;/code> ç»„ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">move_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>: &lt;span class="nc">Res&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Input&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">KeyCode&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>: &lt;span class="nc">Query&lt;/span>&lt;span class="o">&amp;lt;&amp;amp;&lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Transform&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">With&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Player&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">A&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">in&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">iter_mut&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">translation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">D&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">in&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">iter_mut&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">translation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŽ¥ä¸‹æ¥è¿è¡Œä¸€ä¸‹ï¼Œè§’è‰²å°±å¯ä»¥ç§»åŠ¨èµ·æ¥äº†ã€‚&lt;/p>
&lt;p>å¦å¤–ï¼Œç”±äºŽè¿™é‡Œçš„çŽ©å®¶åªæœ‰ä¸€ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ for å¾ªçŽ¯ç»™åŽ»æŽ‰ï¼Œç®€åŒ–ä¸€ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">move_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>: &lt;span class="nc">Res&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Input&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">KeyCode&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>: &lt;span class="nc">Query&lt;/span>&lt;span class="o">&amp;lt;&amp;amp;&lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Transform&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">With&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Player&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">A&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">iter_mut&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">unwrap&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">translation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">D&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">iter_mut&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">unwrap&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">translation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦å¤–çš„å¦å¤–ï¼Œè¿™é‡Œé™¤äº†ä¿®æ”¹å®žä½“å¤–ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠçŽ©å®¶å®šä¹‰ä¸ºå…¨å±€å”¯ä¸€çš„èµ„æºç±»ï¼Œè¿™é‡Œå°±ä¸å†æ¼”ç¤ºäº†ã€‚&lt;/p>
&lt;h3 id="ç§»åŠ¨ä¼˜åŒ–">ç§»åŠ¨ä¼˜åŒ–&lt;/h3>
&lt;p>æˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦èŽ·å–å¹¶ä¿®æ”¹å¤šä¸ªç»„ä»¶ï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡å…ƒç»„(&lt;code>tuple&lt;/code>)æ¥æŸ¥è¯¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="k">fn&lt;/span> &lt;span class="nf">move_system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>: &lt;span class="nc">Res&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Input&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">KeyCode&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>: &lt;span class="nc">Query&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Transform&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Sprite&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">With&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Player&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">let&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sprite&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">players&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">iter_mut&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">unwrap&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">A&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sprite&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">flip_x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">translation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keyboard_input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pressed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">KeyCode&lt;/span>::&lt;span class="n">D&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sprite&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">flip_x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">translation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™é‡Œé€šè¿‡ä¿®æ”¹ &lt;code>sprite.flip_x&lt;/code>ï¼Œä½¿è§’è‰²å›¾ç‰‡åœ¨ç§»åŠ¨æ—¶éšç€æ–¹å‘çš„ä¸åŒè€Œè¿›è¡Œé•œé¢åè½¬ã€‚&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;p>Bevy çš„è¿›ä¸€æ­¥å­¦ä¹ å»ºè®®é˜…è¯»&lt;a class="link" href="https://github.com/bevyengine/bevy/tree/latest/examples" target="_blank" rel="noopener"
>å®˜æ–¹ç¤ºä¾‹&lt;/a>&lt;/p>
&lt;p>è‡³äºŽæˆ‘è‡ªå·±ï¼Œé™¤äº†å­¦ä¹ æ¸¸æˆå¼•æ“Žï¼Œæˆ‘è§‰å¾—ä¹Ÿè¯¥åŽ»å…ˆå­¦ç‚¹ç”»ç”»äº†ðŸ˜¥æ¯•ç«Ÿæˆ‘çš„ Aseprite éƒ½ä¸çŸ¥é“åƒç°å¤šä¹…äº†&lt;/p></description></item></channel></rss>